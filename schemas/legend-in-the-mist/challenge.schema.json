{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "description": "Legend in the Mist - Challenge profile, used to represent NPCs and situations that pose a threat to the Heroes, their Quests, or their goals.",
  "type": "object",
  "properties": {
    "name": {
      "description": "The name/title of the Challenge.",
      "examples": [
        "Avoided Acquaintance",
        "Commoner",
        "Boggart"
      ],
      "default": "Untitled Challenge",
      "type": "string",
      "minLength": 1
    },
    "description": {
      "description": "Short Narrator-facing summary of what this Challenge is. Supports inline Markdown.",
      "examples": [
        "A starving predator prowls this wilderness and it will not balk at bony travellers to sustain itself. When it pounces, its {stealthy-} status hinders reaction and is then removed.",
        "Infernal spirits from the lowest circles of Hell, bound to mortal service by signed contracts. When someone becomes entirely {agreable-} (their Limit is reached), they sign an agreement with the Devil and receive a {signed infernal contract}. The Devil can now start using **Fine Print** and the devastating **Compel** Consequences, which cannot ordinarily be resisted.",
        ""
      ],
      "type": "string"
    },
    "rating": {
      "description": "General indication of the Challenge's difficulty level (1-5).",
      "examples": [
        1,
        3,
        5
      ],
      "default": 1,
      "type": "integer",
      "minimum": 1,
      "maximum": 5
    },
    "roles": {
      "description": "Define the Challenge's possible behaviors in a scene (see Legend in the Mist - Core Book Volume II - The Narrator, page 110).",
      "type": "array",
      "items": {
        "description": "Keyword that defines how this Challenge behaves in a scene.",
        "examples": [
          "Watcher",
          "Aggressor",
          "Obstacle"
        ],
        "type": "string",
        "minLength": 1
      }
    },
    "tags_and_statuses": {
      "description": "Describe the Challenge's features and its condition upon entering the scene.",
      "type": "array",
      "items": {
        "description": "Story tags and statuses belonging to the Challenge upon entering the scene. Supports inline Markdown.",
        "examples": [
          "{alert-1}",
          "Three tags the imitated person possesses",
          "{sword}, {dagger} or {bow}"
        ],
        "type": "string"
      }
    },
    "mights": {
      "description": "Describe the aspects in which this Challenge is Mighty, the levels of those Might, and any vulnerabilities.",
      "type": "array",
      "items": {
        "description": "Describes an aspect in which this Challenge is Mighty, the level of that Might, and any vulnerabilities.",
        "type": "object",
        "properties": {
          "name": {
            "description": "A short label for the aspect in which this Challenge Mighty.",
            "examples": [
              "Horse-sized",
              "Cunning spirit",
              "Organized crime"
            ],
            "type": "string",
            "minLength": 1
          },
          "level": {
            "description": "Level of this Might. Use to decide when a Hero's action could be Favored of Imperiled.",
            "examples": [
              "origin",
              "adventure",
              "greatness"
            ],
            "default": "adventure",
            "type": "string",
            "enum": [
              "origin",
              "adventure",
              "greatness"
            ]
          },
          "vulnerability": {
            "description": "Optional narrative situations in which the Might in this aspect it nullified and considered Origin.",
            "examples": [
              "Silver weapons",
              "Appeased by gifts"
            ],
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ]
          }
        },
        "required": [
          "name",
          "level"
        ],
        "additionalProperties": false
      }
    },
    "limits": {
      "description": "Define when the Challenge is overcome by using Detailed outcomes.",
      "type": "array",
      "items": {
        "description": "Describes a certain way to overcome (or not) a Challenge by giving it the right type and tier of status.",
        "type": "object",
        "properties": {
          "name": {
            "description": "Action to undertake in order to overcome the Challenge.",
            "examples": [
              "Avoid",
              "Harm",
              "Subdue"
            ],
            "type": "string",
            "minLength": 1
          },
          "level": {
            "description": "Tier that relevant statuses need to reach in order to overcome the Challenge.",
            "examples": [
              3,
              4
            ],
            "default": 1,
            "type": "integer",
            "minimum": 1,
            "maximum": 6
          },
          "is_immune": {
            "description": "If true, the Challenge ignores statuses targeting this Limit's vector.",
            "examples": [
              false
            ],
            "default": false,
            "type": "boolean"
          },
          "is_progress": {
            "description": "If true, this Limit acts like a progress track that builds up towards a special outcome (see `on_max`).",
            "examples": [
              true
            ],
            "default": false,
            "type": "boolean"
          },
          "on_max": {
            "description": "Special Feature triggered as the outcome of a progress Limit (see `is_progress`). Supports inline Markdown.",
            "examples": [
              "Everyone in the community becomes {distrustful-3} of one another.",
              "Deliver one of the **Invoke Detities** Consequences to the entire village."
            ],
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ]
          }
        },
        "required": [
          "name",
          "level",
          "is_immune",
          "is_progress"
        ],
        "additionalProperties": false
      }
    },
    "threats": {
      "description": "Typical actions of the Challenge structured in Threats and their possible related Consequences.",
      "type": "array",
      "items": {
        "description": "A reusable action the Challenge can take, with its possible outcomes.",
        "type": "object",
        "properties": {
          "name": {
            "description": "Action that the Challenge is begining to take, prompting the Hero to take action to avoid or prevent the Threat from materializing.",
            "examples": [
              "Assert authority",
              "Ambush",
              "Conjure"
            ],
            "type": "string",
            "minLength": 1
          },
          "description": {
            "description": "Concise text that elaborates how this Threat looks or escalates. Supports inline Markdown.",
            "examples": [
              "Appear at the most inopportune time, making things awkward",
              "Lift its arms as the ground begins to shake",
              "Show up, present a copy of the {signed infernal contract} and demand obedience"
            ],
            "type": "string",
            "minLength": 1,
            "maxLength": 100
          },
          "consequences": {
            "description": "List of concrete, referenceable outcomes the Threat can deliver.",
            "minItems": 1,
            "type": "array",
            "items": {
              "description": "Outcome of the Challenge's action if the Hero's action generates Consequences or if the Threat is ignored. Supports inline Markdown.",
              "examples": [
                "Give {nervous-2} to a bystander.",
                "Raise the alarm (**Exposure**).",
                "Time passes as the ferry creeps forward ({time-passes-1})."
              ],
              "type": "string",
              "minLength": 1
            }
          }
        },
        "required": [
          "name",
          "description",
          "consequences"
        ],
        "additionalProperties": false
      }
    },
    "general_consequences": {
      "description": "Describe the actions the Challenge can generally take when a Hero's action generates Consequences.",
      "type": "array",
      "items": {
        "description": "Action the Challenge might take when a Hero's action generates Consequences, regardless of Threat. Supports inline Markdown.",
        "examples": [
          "You get lost in the revelry ({time-passes-1}).",
          "Figure out someone's place of hiding (**Exposure**).",
          "Sniff around (remove two tiers from a sneaking status)."
        ],
        "type": "string"
      }
    },
    "special_features": {
      "description": "Rules unique to the Challenge or abilities that cannot be expressed with Threats and Consequences, tags, statuses, Limits or Might.",
      "type": "array",
      "items": {
        "description": "Rule unique to the Challenge or an ability that cannot be expressed with Threats and Consequences, tags, statuses, Limits or Might.",
        "type": "object",
        "properties": {
          "name": {
            "description": "Name of the Special Feature.",
            "examples": [
              "Petty grudge",
              "Dramatic feign",
              "Guarded"
            ],
            "type": "string",
            "minLength": 1
          },
          "description": {
            "description": "Text describing the Special Feature's trigger (\"When this happens...\") and effect (\"... do this.\"). Supports inline Markdown.",
            "examples": [
              "If offended, gains {spiteful-3} and cannot be obliged until {appeased-3}.",
              "The Narrator may choose to deliver the Challenge's COnsequence during Establish instead of in the Consequence phase.",
              "Whenever someone who could be linked to the Plotting Courtier leans of the Heroes' actions or whereabouts (**Exposure**), the Plotting Courtier gains a tag for it."
            ],
            "type": "string",
            "minLength": 1
          }
        },
        "required": [
          "name",
          "description"
        ],
        "additionalProperties": false
      }
    },
    "meta": {
      "description": "Attribution and cataloging fields for the Challenge's origin.",
      "type": "object",
      "properties": {
        "publication_type": {
          "description": "Classifies the Challenge's source to aid cataloging and tooling.",
          "examples": [
            "official",
            "cauldron"
          ],
          "default": "homebrew",
          "type": "string",
          "enum": [
            "official",
            "third_party",
            "cauldron",
            "homebrew"
          ]
        },
        "source": {
          "description": "Source title (book, supplement, PDF) where this Challenge appears.",
          "examples": [
            "Legend in the Mist - Core Book Volume II - The Narrator",
            "Lantern in the Mist - Sample Challenges"
          ],
          "type": "string"
        },
        "authors": {
          "description": "List of credited authors or contributors.",
          "type": "array",
          "items": {
            "description": "One credited author name.",
            "examples": [
              "Son of Oak",
              "4rtamis"
            ],
            "type": "string",
            "minLength": 1
          }
        },
        "page": {
          "description": "Page number (if relevant to the source).",
          "examples": [
            112,
            126,
            394
          ],
          "type": "integer",
          "minimum": 1,
          "maximum": 9007199254740991
        }
      },
      "required": [
        "publication_type"
      ],
      "additionalProperties": false
    }
  },
  "required": [
    "name",
    "rating"
  ],
  "additionalProperties": false
}